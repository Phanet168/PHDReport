<!-- super-admin.html -->
<!DOCTYPE html>
<html lang="km">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PHD Report – Dashboard</title>

  <!-- EDIT HERE: CSS from your template -->
  <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="./assets/css/icons.css">
  <link rel="stylesheet" href="./assets/css/app.min.css">

  <!-- bridge + (optional old app) -->
  <link rel="stylesheet" href="./css/template-bridge.css">
  <link rel="stylesheet" href="./css/app.css">
</head>
<body class="bg-light">

  <!-- ===== Template Shell (example) ===== -->
  <div class="d-flex">
    <!-- Sidebar -->
    <aside id="sidebar" class="border-end" style="width:280px; min-height:100vh; background:#0f172a; color:#cbd5e1">
      <div class="p-3 border-bottom">
        <div class="h-khmer text-white" style="font-size:22px">PHD</div>
        <div class="text-muted" style="font-size:12px">ប្រព័ន្ធរាយការណ៍</div>
      </div>
      <nav id="menu" class="p-2">
        <a href="#" data-page="home" class="d-block py-2 px-3 rounded text-decoration-none text-white">ផ្ទាំងគ្រប់គ្រង</a>
        <div class="mt-3 text-uppercase text-info" style="font-size:12px">ជំពូក</div>
        <div id="deptMenu" class="mt-1"></div>

        <div class="mt-3 text-uppercase text-info" style="font-size:12px">របាយការណ៍</div>
        <a href="#" data-page="reports" class="d-block py-2 px-3 rounded text-decoration-none text-white">របាយការណ៍</a>

        <div id="adminSection" style="display:none">
          <div class="mt-3 text-uppercase text-info" style="font-size:12px">គ្រប់គ្រង</div>
          <a href="#" data-page="users" class="d-block py-2 px-3 rounded text-decoration-none text-white">គ្រប់គ្រងអ្នកប្រើប្រាស់</a>
          <a href="#" data-page="manage-dept" class="d-block py-2 px-3 rounded text-decoration-none text-white">គ្រប់គ្រងជំពូក</a>
          <a href="#" data-page="manage-unit" class="d-block py-2 px-3 rounded text-decoration-none text-white">គ្រប់គ្រងផ្នែក</a>
          <a href="#" data-page="manage-period" class="d-block py-2 px-3 rounded text-decoration-none text-white">គ្រប់គ្រងរយៈពេល</a>
        </div>

        <div class="mt-3 text-uppercase text-info" style="font-size:12px">ប្រព័ន្ធ</div>
        <a href="#" id="btnLogout" class="d-block py-2 px-3 rounded text-decoration-none text-white">ចាកចេញ</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="flex-grow-1 p-3">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div class="h-khmer" style="font-size:26px">ផ្ទាំងគ្រប់គ្រង</div>
        <div class="d-flex gap-2 align-items-center">
          <div class="k-input"><input id="q" type="text" placeholder="ស្វែងរក..."></div>
          <button class="k-btn k-btn-muted" id="btnToggleMenu">បិទ/បើកម៉ឺនុយ</button>
        </div>
      </div>

      <!-- Content areas (same IDs as before) -->
      <section id="page-home" class="row g-3">
        <div class="col-lg-4">
          <div class="card k-card p-3"><h5 class="h-khmer mb-2">សង្ខេប</h5><div id="homeSummary">សូមស្វាគមន៍!</div></div>
        </div>
        <div class="col-lg-4">
          <div class="card k-card p-3"><h5 class="h-khmer mb-2">ព័ត៌មានប្រើប្រាស់</h5><div id="whoami"></div></div>
        </div>
        <div class="col-lg-4">
          <div class="card k-card p-3"><h5 class="h-khmer mb-2">ស្ថានភាព API</h5><div id="apiStatus">កំពុងតភ្ជាប់…</div></div>
        </div>
      </section>

      <section id="page-reports" class="card k-card p-3" style="display:none">
        <h5 class="h-khmer mb-2">របាយការណ៍</h5>
        <div>សូមជ្រើស​ជំពូក/ផ្នែក ពីម៉ឺនុយខាងឆ្វេង។</div>
      </section>

      <section id="page-users" class="card k-card p-3" style="display:none">
        <h5 class="h-khmer mb-2">គ្រប់គ្រងអ្នកប្រើប្រាស់</h5>
        <div class="k-badge">គ្រប់គ្រងនៅ Apps Script ឬ បន្ថែម UI បន្ទាប់</div>
      </section>

      <!-- Manage sections kept same IDs; JS logic ដដែល -->
      <section id="page-manage-dept" class="card k-card p-3" style="display:none">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="h-khmer m-0">គ្រប់គ្រងជំពូក</h5>
          <button class="k-btn k-btn-primary" id="btnAddDept">បន្ថែមជំពូក</button>
        </div>
        <div class="k-input my-2"><input id="qDept" placeholder="ស្វែងរក..."></div>
        <div class="table-responsive">
          <table class="table align-middle">
            <thead><tr><th>ID</th><th>ឈ្មោះជំពូក</th><th>សកម្មភាព</th></tr></thead>
            <tbody id="tbDept"></tbody>
          </table>
        </div>
      </section>

      <section id="page-manage-unit" class="card k-card p-3" style="display:none">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="h-khmer m-0">គ្រប់គ្រងផ្នែក</h5>
          <button class="k-btn k-btn-primary" id="btnAddUnit">បន្ថែមផ្នែក</button>
        </div>
        <div class="row g-2 my-2">
          <div class="col-md-6"><div class="k-input"><input id="qUnit" placeholder="ស្វែងរក..."></div></div>
          <div class="col-md-6"><select id="filterDept" class="form-select"><option value="">— ជំពូកទាំងអស់ —</option></select></div>
        </div>
        <div class="table-responsive">
          <table class="table align-middle">
            <thead><tr><th>ID</th><th>ជំពូក</th><th>ឈ្មោះផ្នែក</th><th>សកម្មភាព</th></tr></thead>
            <tbody id="tbUnit"></tbody>
          </table>
        </div>
      </section>

      <section id="page-manage-period" class="card k-card p-3" style="display:none">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="h-khmer m-0">គ្រប់គ្រងរយៈពេល</h5>
          <button class="k-btn k-btn-primary" id="btnAddPeriod">បន្ថែមរយៈពេល</button>
        </div>
        <div class="k-input my-2"><input id="qPeriod" placeholder="ស្វែងរក..."></div>
        <div class="table-responsive">
          <table class="table align-middle">
            <thead><tr><th>ID</th><th>ឈ្មោះរយៈពេល</th><th>ឆ្នាំ</th><th>ខែ</th><th>សកម្មភាព</th></tr></thead>
            <tbody id="tbPeriod"></tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- EDIT HERE: JS from your template -->
  <script src="./assets/js/bootstrap.bundle.min.js"></script>
  <script src="./assets/js/app.min.js"></script>

  <!-- app logic (unchanged) -->
  <script src="./js/common.js"></script>
  <script>
    /* the exact same JS body from your previous super-admin.html
       (navigation, CRUD handlers, building dept/unit menu, etc.)
       → paste the whole JS we already built, it works with this shell. */
  </script>
</body>
</html>
